<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Test</h1>
    <button onclick="increment()">+</button>
    <button onclick="decrement()">-</button>
    <button onclick="reset()">reset</button>
    <p id="count"></p>
    <p id="derived"></p>

    <script type="module">
        import { signal, computed, effect, UIeffect } from './signal.js';

        //test signal.js
        const count = signal(0);
        const derived = computed(() => count.v * 2);

        effect(() => {
            console.log('Count:', count.v);
            console.log('Derived:', derived.v);
        });

        document.getElementById('count').textContent = count.v;
        document.getElementById('derived').textContent = derived.v;

        effect(() => {
            document.getElementById('count').textContent = count.v;
            document.getElementById('derived').textContent = derived.v;
        });

        window.increment = () => {
            count.v++;
        };

        window.decrement = () => {
            count.v--;
        };

        window.reset = () => {
            count.v = 0;
        };
    </script>
</body>

</html>